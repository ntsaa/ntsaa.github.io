<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>NTSAA Screenshot Viewer</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 0;
        }

        header, footer {
            background: #333;
            color: white;
            padding: 10px;
            text-align: center;
        }

        #content {
            padding: 20px;
        }
    </style>
</head>
<body>
    <header>
        <h1>NTSAA Screenshot Viewer</h1>
        <ul>
            <li><a href="/">Giới thiệu</a></li>
        </ul>

</header>

    <div id="content">Đang tải...</div>

    <footer>
        &copy; 2025 NTSAA Tools
    </footer>

    <script>
        function getQueryParam(name) {
            const url = new URL(window.location.href);
            return url.searchParams.get(name);
        }

        async function loadPage(url, callback) {
            try {
                const res = await fetch(url);
                const html = await res.text();
                document.getElementById("content").innerHTML = html;
                if (callback) callback();
            } catch (err) {
                document.getElementById("content").innerHTML = "Không thể tải nội dung.";
            }
        }

        const img = getQueryParam("img");
        if (img) {
            loadPage("pages/viewer.html", () => {
                const imageEl = document.getElementById("screenshot-image");
                if (imageEl) imageEl.src = "https://i.ibb.co/" + decodeURIComponent(img);
            });
        } else {
            loadPage("pages/introduce.html");
        }
    </script>
</body>
</html>
